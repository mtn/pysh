from TatSu import parse
import readline
import pprint

readline.read_init_file('readline.rc')
PROMPT = '> '

parser = Parser()

def main():
    while True:
        cmdline = input(PROMPT)
        if cmdline == 'exit':
            break

        tree = parse_line(cmdline)
        print(tree)

def parse_line(cmdline):
    return parser.parse(cmdline)

GRAMMAR = '''
    @@grammar::CMD_PARSE


    start = cmdline $ ;


    cmdline
        =
        { command }
        ;

    command
        =
        { arg }
        ;

    arg
        =
        /[^\s]/
        ;


'''

class Parser:
    def __init__():



if __name__ =='__main__':
    main()
